{% extends "base.html" %}
{% block title %} Submit Report {% endblock %}

{% block content %}
<div class="container mt-5 d-flex justify-content-center">
  <div class="card shadow-lg w-75">   
    <div class="card-header bg-danger text-white fw-bold fs-3 py-3">
      <i class="bi bi-flag-fill"></i> Submit Report
    </div>
    <div class="card-body" style="font-size: 1.2rem;">
      <form method="POST" enctype="multipart/form-data">
        
        <!-- Report Type -->
        <div class="mb-3">
          <label class="form-label">Report Type</label>
          <select class="form-select" name="report_type" id="report_type" required>
            <option value="">-- Select Type --</option>
            <option value="user">User</option>
            <option value="product">Product</option>
            <option value="transaction">Transaction</option>
          </select>
        </div>

        <!-- Target ID  -->
        <div class="mb-3" id="target-container">
          <label class="form-label">Select Target</label>
          <select class="form-select" id="reported_id_select" >
            <option value="">-- Select --</option>
          </select>
        </div>
        <!-- hidden input field -->
        <input type="hidden" id="reported_id_hidden">


        <!-- Reason -->
        <div class="mb-3">
          <label class="form-label">Reason</label>
          <textarea name="reason" class="form-control" rows="5" required></textarea>
        </div>

        <!-- Evidence -->
        <div class="mb-3">
          <label class="form-label">Upload Evidence (optional)</label>
          <input type="file" name="evidence" class="form-control">
          <small class="text-muted">Accepted: PNG, JPG, PDF</small>
        </div>

        <div class="text-end">
          <button type="submit" class="btn btn-danger">Submit Report</button>
          <a href="{{ url_for('report.report_center') }}" class="btn btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- javascript -->
 <!--send default value to js-->
 <script>
    const PRE_TYPE = "{{ pre_type or '' }}";
    const PRE_ID = "{{ pre_id or '' }}";
 </script>
<script src="{{ url_for('report.static', filename='report_form.js') }}"></script>
{% endblock %}